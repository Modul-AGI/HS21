
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aufgabe 2: Zentralitätsmasse berechnen &#8212; Angewandte Geoinformatik AGI</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e8f53015daec13862f6db5e763c41738.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/zhaw_lsfm_iunr_blau.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Angewandte Geoinformatik AGI</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Dieses Buch durchsuchen ..." aria-label="Dieses Buch durchsuchen ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Einleitung
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Admin
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Anleitung_fuer_Dozierende.html">
   Anleitung für Dozierende
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Navigation umschalten" aria-controls="site-navigation"
                title="Navigation umschalten" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Laden Sie diese Seite herunter"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/D_Netzwerkanalyse_1/4_GRASS_GIS.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Quelldatei herunterladen" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="In PDF drucken"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/Modul-AGI/HS21/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Quell-Repository"><i
                    class="fab fa-github"></i>Repository</button></a>
        
        <a class="edit-button" href="https://github.com/Modul-AGI/HS21/edit/main/D_Netzwerkanalyse_1/4_GRASS_GIS.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Bearbeite diese Seite"><i class="fas fa-pencil-alt"></i>vorschlagen zu bearbeiten</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Vollbildmodus"
        title="Vollbildmodus"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Inhalt
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ubung-2-1-topologie-bereinigen">
   Übung 2.1: Topologie bereinigen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ubung-2-2-losgeloste-getrennte-elemente-entfernen">
   Übung 2.2: Losgelöste (getrennte) Elemente entfernen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ubung-2-3-zentralitatsmasse-berechnen">
   Übung 2.3: Zentralitätsmasse berechnen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ubung-2-4-zentralitatsmasse-visualisieren">
   Übung 2.4: Zentralitätsmasse Visualisieren
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ubung-2-5-zentralitatsmasse-vergleichen">
   Übung 2.5: Zentralitätsmasse vergleichen
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="aufgabe-2-zentralitatsmasse-berechnen">
<h1>Aufgabe 2: Zentralitätsmasse berechnen<a class="headerlink" href="#aufgabe-2-zentralitatsmasse-berechnen" title="Link zu dieser Überschrift">¶</a></h1>
<p>Die mächtigsten (aber nicht die einzigen<a class="footnote-reference brackets" href="#plugins" id="id1">1</a>) Netzwerkanalyse Werkzeuge in QGIS stammen aus dem eigenständigen GIS „GRASS GIS“, welches bei der Installation von QGIS mitinstalliert wird. Diese können innerhalb von QGIS verwendet werden. Achsen Sie dabei, dass Sie die richtige QGIS Version öffnen (<em>mit GRASS</em>, siehe <a class="reference internal" href="2_Vorbereitung.html#chap-vorbereitung-aufstarten"><span class="std std-ref">Übung 2: QGIS aufstarten</span></a>).</p>
<div class="section" id="ubung-2-1-topologie-bereinigen">
<h2>Übung 2.1: Topologie bereinigen<a class="headerlink" href="#ubung-2-1-topologie-bereinigen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Das OSM Strassennetz „osm_highway“ ist topologisch nicht perfekt für unsere Zwecke vorbereitet. An Kreuzungen fehlen teilweise Knoten, welche ein „abbiegen“ auf der Kreuzung ermöglich. Um diesen Umstand zu beheben, nutzen wir das Tool „v.clean“ und führen damit die Operation „break“ durch. Dadurch werden Linien an Kreuzungen unterbrochen. Diese Operation löst einige topologische Fehler, führt z.B. bei Brücken und Tunnels aber euch neue Unstimmigkeiten ein, die Sie an dieser Stelle aber getrost ignorieren können.</p>
<ol class="simple">
<li><p>Werkzeug „v.clean“ auswählen</p></li>
<li><p>Parameter:</p>
<ul class="simple">
<li><p><em>Layer to clean</em> : Transformierter und geclippter OSM Strassendatensatz</p></li>
<li><p><em>Cleaning tool</em> : break</p></li>
<li><p><em>v.out.ogr output type:</em> auto</p></li>
<li><p><em>cleaned (output)</em>: Save to File…</p></li>
</ul>
</li>
<li><p>Mit „Run“ ausführen</p></li>
</ol>
</div>
<div class="section" id="ubung-2-2-losgeloste-getrennte-elemente-entfernen">
<h2>Übung 2.2: Losgelöste (getrennte) Elemente entfernen<a class="headerlink" href="#ubung-2-2-losgeloste-getrennte-elemente-entfernen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Aufmerksamen Anwendern könnte nun auffallen, dass gewisse Bestandteile des Netzwerks nicht mit dem Hauptnetz verbunden sind. Diese getrennten Elemente können mit dem Werkzeug <code class="docutils literal notranslate"><span class="pre">v.net.components</span></code> identifiziert werden. Das Werkzeug prüft, welche Bestandteile des Netzwerkes miteinander verbunden sind und gruppiert diese mit Nummern. Diese Nummern werden in der Spalte „comp“ abgespeichert.</p>
<p>Im Idealfall sollte unser Netzwerk aus einer Gruppe bestehen; so wäre jeder Knotenpunkt mit jedem andern Knotenpunkt verbunden: Bei uns ist dies jedoch nicht der Fall. Damit wir in den nachstehenden Übungen mit einem sauberen Datensatz arbeiten können, bereinigen wir dieses Problem an dieser Stelle:</p>
<ol class="simple">
<li><p>Führen Sie das Werkzeug <code class="docutils literal notranslate"><span class="pre">v.net.components</span></code> aus</p>
<ul class="simple">
<li><p><em>Type of components</em> : „strong“</p></li>
<li><p><em>V.out.ogr output type:</em> auto</p></li>
<li><p><em>Network_Components_Line:</em> Save to File…</p></li>
<li><p><em>Network_Components_Point:</em> Save to File…</p></li>
</ul>
</li>
<li><p>Der neue Linien Datensatz verfügt (wie oben beschrieben) über eine Spalte „comp“. Überprüfen Sie dies indem Sie die Attributtabelle anschauen.</p></li>
<li><p>Färben Sie die Linien nach der Spalte („comp“) ein. So, dass jede Gruppe eine Farbe erhält.</p></li>
<li><p>Ermitteln Sie die Nummer der Hauptkategorie (z.B. mit dem Werkzeug „Identify Features“</p></li>
<li><p>Öffnen Sie die Attributtabelle und machen eine „Selektion anhand einer Abfrage“ („Select Features
using an expression“ [1])</p></li>
<li><p>Selektieren Sie die Hauptkategorie mittels einer korrekten Abfrage (z.B. comp = 99). QGIS bietet
ihnen hierfür leider wenig Hilfestellung (im Gegensatz zum Query Builder von ArcGIS)</p></li>
<li><p>Um sich von den anderen Kategorien zu trennen, haben Sie nun zwei Möglichkeiten:</p>
<ul class="simple">
<li><p>Eine Editiersession starten [2], die Selektion invertieren [3] und die selektierten Daten löschen [4]. <strong>ODER</strong></p></li>
<li><p>Selektierte Daten (ohne Invertierung) in ein neues File exportieren mittels Rechtsklick auf den Layer -&gt; „Save as“ -&gt; Häkchen bei „Save only selected features“</p></li>
</ul>
</li>
<li><p>Speichern Sie den Layer anschliessend mit folgendem Namen ab: „osm_highway_prepared.gpkg“</p></li>
</ol>
<div class="figure align-default" id="figure-2">
<img alt="../_images/ueb1_fig2.jpg" src="../_images/ueb1_fig2.jpg" />
</div>
</div>
<div class="section" id="ubung-2-3-zentralitatsmasse-berechnen">
<span id="ex-centrality-calculate"></span><h2>Übung 2.3: Zentralitätsmasse berechnen<a class="headerlink" href="#ubung-2-3-zentralitatsmasse-berechnen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Nun kann mit der eigentlichen Netzwerkanalyse begonnen werden. Wir rechnen für unser bereinigtes Strassennetz verschiedene Zentralitätsmasse.</p>
<ol class="simple">
<li><p>v.net.centrality starten</p></li>
<li><p>Parameter</p>
<ul class="simple">
<li><p><em>Input vector line layer</em> : Bereinigter Output aus letzter Übung</p></li>
<li><p><em>v.out.ogr output type</em> : auto</p></li>
<li><p><em>Network Centrality</em>: Save to File…</p></li>
</ul>
</li>
<li><p>Mit „run“ ausführen</p></li>
<li><p>Speichern Sie die Resultierende Datei in ihrem Ordner ab („waedenswil_centrality.gpkg“)</p></li>
</ol>
</div>
<div class="section" id="ubung-2-4-zentralitatsmasse-visualisieren">
<h2>Übung 2.4: Zentralitätsmasse Visualisieren<a class="headerlink" href="#ubung-2-4-zentralitatsmasse-visualisieren" title="Link zu dieser Überschrift">¶</a></h2>
<p>Visualisieren Sie die Ausprägung „Closeness“ der berechneten Zentralitätswerte über die Symbologie (Layer Properties -&gt; Style -&gt; Graduated). Wählen Sie eine geeignete Methode und passen Sie den Stil an, bis er Ihnen gefällt. Spielen Sie dabei mit der Klassifikationsmethode (Mode: Equal interval, Quantile, Natural Breaks..) sowie der Color ramp rum. Achten Sie darauf, dass Sie immer auf „Classify“ klicken müssen, um Änderungen anzuwenden.</p>
</div>
<div class="section" id="ubung-2-5-zentralitatsmasse-vergleichen">
<h2>Übung 2.5: Zentralitätsmasse vergleichen<a class="headerlink" href="#ubung-2-5-zentralitatsmasse-vergleichen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Installieren Sie das Plugin „QuickMapServices“ um eine OSM Hintergrundkarte einzubinden. Um direkt in QGIS die Zentralitätsmasse zu vergleichen, duplizieren sie den entsprechenden Layer noch zweimal (rechtsklick &gt; Duplicate) – so können Sie jede der Zentralitäten separat symbolisieren und vergleichen. Sie können auch für jedes der Zentralitätsmasse eine Karte exportieren via <em>Project &gt; Import / Export Export Map to Image</em>.</p>
<p>Vergleichen Sie die drei Zentralitätsmasse und setzen Sie sie in den Kontext der Theorie.</p>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="plugins"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Da QGIS wie bereits erwähnt von verschiedenen Personen und Gruppen entwickelt wird, gibt es auch Doppelspurigkeiten, die man so in einer kommerziellen Software wie ArcGIS weniger vorfindet. In dieser Hinsicht ist QGIS sehr ähnlich wie die Programmiersprachen R und Python.</p>
</dd>
</dl>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./D_Netzwerkanalyse_1"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          Durch N. Ratnaweera, N. Bakogiannis, P. Laube<br/>
        
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>